import{a as l,m as _}from"./pinia-7d28dea6.js";import{p as d}from"./productStore-70e5fece.js";import{c as h}from"./cart-91a72be6.js";import{P as k}from"./PaginationView-924a1c4c.js";import{S as $}from"./sweetalert2-fc38d252.js";import{aM as u,aC as e,W as i,X as t,ar as f,bo as c,F as m,aK as b,a3 as y,aZ as n,bj as A,a2 as E,U as V}from"./@vue-a2e6aab2.js";import{_ as T}from"./index-90e19ebd.js";import"./vue-demi-71ba0ef2.js";import"./statusStore-fedbabd5.js";import"./axios-08622986.js";import"./@ckeditor-b092e1d3.js";import"./vue-71628d3f.js";import"./vue-router-49be82a2.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-67898897.js";import"./bootstrap-8396874d.js";import"./@popperjs-9847b28c.js";import"./vee-validate-aa725db8.js";import"./@vee-validate-55db0f47.js";const{VITE_APP_URL:I,VITE_APP_PATH:S}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/test-github/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{product:[],pagination:{}}},methods:{...l(d,["getProductAll","getid"]),...l(h,["addToCart"]),getProducts(s=1){const r=this.$loading.show(),p=`${I}v2/api/${S}/products/?page=${s}&category=${this.category}`;this.$http.get(p).then(a=>{this.product=a.data.products,this.pagination=a.data.pagination,r.hide()}).catch(a=>{$.fire({position:"top-end",icon:"error",title:a.response.data.message,showConfirmButton:!1,timer:1500})})},...l(d,["addtoFollow","setCategory","getProductAll"])},watch:{category(){this.getProducts()}},computed:{..._(d,["followList","productsAll","category","categories"]),..._(h,["loadingItem"])},components:{Pagination:k},mounted(){this.getProducts(),this.getProductAll(),this.getid()}},B={class:"container py-8"},U={class:"row g-0 g-md-3 g-lg-4 justify-content-center mb-0"},D=t("h2",{class:"text-center text-primary mb-7 fw-bold"},"茶品介紹",-1),F={class:"col-lg-3 mb-4 mb-lg-0"},N={class:"list-group"},R={class:"list-unstyled"},j={class:"list-unstyled"},M=["onClick"],O={class:"col-lg-9 mb-4 mb-md-0"},H={class:"row g-0 g-md-3 g-lg-4 mb-3"},x={class:"card border-0 shadow-sm rounded-3"},z={class:""},K=["src"],W={class:"card-body fw-bold text-primary p-5"},X={class:"badge rounded-pill bg-primary"},Z={class:"card-title fs-4 lh-29 fw-bold noto-serif-font"},q={class:"fs-5 lh-30 fw-bold mb-5 position-relative"},G=["onClick"],J={key:0,class:"position-absolute end-0 material-icons fs-1",style:{cursor:"pointer"}},Q={key:1,class:"position-absolute end-0 material-icons fs-1 text-primary",style:{cursor:"pointer"}},Y={class:"fw-bold text-danger noto-serif-font"},tt={class:"d-grid"},ot=["disabled","onClick"],st={key:0,class:"fas fa-spinner fa-pulse"};function et(s,r,p,a,g,P){const v=u("router-link"),w=u("Pagination");return e(),i(m,null,[t("div",B,[t("div",U,[D,t("div",F,[t("ul",N,[t("li",R,[t("a",{href:"#",class:f(["list-group-item list-group-item-action noto-serif-font",{active:s.category===""}]),onClick:r[0]||(r[0]=c(o=>s.setCategory(""),["prevent"]))}," 全部商品 ",2)]),t("li",j,[(e(!0),i(m,null,b(s.categories,(o,C)=>(e(),i("a",{key:`${C}-${o}`,href:"#",class:f(["list-group-item list-group-item-action noto-serif-font",{active:s.category===o}]),onClick:c(it=>s.setCategory(o),["prevent"])},n(o),11,M))),128))])])]),t("div",O,[t("div",H,[(e(!0),i(m,null,b(g.product,o=>(e(),i("div",{class:"col-md-6 col-lg-4 mb-4 mb-md-3",key:o.id},[t("div",x,[t("div",z,[y(v,{to:`/product/${o.id}`},{default:A(()=>[t("img",{src:o.imageUrl,height:"250",class:"card-img-top object-fit mb-0",alt:"product-img"},null,8,K)]),_:2},1032,["to"]),t("div",W,[t("span",X,n(o.category),1),t("h5",Z,n(o.title),1),t("div",q,[t("a",{href:"#",onClick:c(()=>s.addtoFollow(o.id),["prevent"])},[s.followList.id.indexOf(o.id)===-1?(e(),i("span",J," favorite_border ")):(e(),i("span",Q," favorite "))],8,G),t("span",Y,n(s.$filters.currency(o.price)),1)]),t("div",tt,[t("button",{disabled:s.loadingItem===o.id+"1",type:"button",class:"btn btn-outline-primary fw-normal",onClick:()=>s.addToCart(o.id,1)},[E(" 加入購物車 "),s.loadingItem===o.id+"1"?(e(),i("i",st)):V("",!0)],8,ot)])])])])]))),128))])])])]),y(w,{pages:g.pagination,onEmitPages:P.getProducts},null,8,["pages","onEmitPages"])],64)}const kt=T(L,[["render",et]]);export{kt as default};
