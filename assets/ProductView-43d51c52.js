import{N as C,T as B,P as I,S as L,a as N}from"./swiper-8542cab2.js";import{aM as y,aC as i,W as c,X as e,a3 as g,bj as a,aZ as l,bo as P,bl as M,bb as E,F as p,aK as u,a2 as b,U,Q as w,at as j,aF as D,aD as H}from"./@vue-a2e6aab2.js";import{a as S,m as x}from"./pinia-7d28dea6.js";import{c as k}from"./cart-91a72be6.js";import{p as T}from"./productStore-70e5fece.js";import{_ as F}from"./index-90e19ebd.js";import"./ssr-window-c9202916.js";import"./vue-demi-71ba0ef2.js";import"./axios-08622986.js";import"./sweetalert2-fc38d252.js";import"./@ckeditor-b092e1d3.js";import"./vue-71628d3f.js";import"./statusStore-fedbabd5.js";import"./vue-router-49be82a2.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-67898897.js";import"./bootstrap-8396874d.js";import"./@popperjs-9847b28c.js";import"./vee-validate-aa725db8.js";import"./@vee-validate-55db0f47.js";const{VITE_APP_URL:V,VITE_APP_PATH:A}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/test-github/",MODE:"production",DEV:!1,PROD:!0},R={data(){return{product:[],products:[],tempProducts:[],thumbsSwiper:null,modules:[C,B,I],itemNum:1,id:"",fillter:[],productsAll:[]}},components:{Swiper:L,SwiperSlide:N},methods:{getProductSingle(){const{id:t}=this.$route.params,r=this.$loading.show();console.log(t),this.$http.get(`${V}v2/api/${A}/product/${t}`).then(d=>{const{product:v}=d.data;this.product=v,this.products=this.product,console.log(this.product),console.log(this.products),this.getCategory(),r.hide()}).catch(d=>{alert(d)})},getCategory(){this.$http.get(`${V}v2/api/${A}/products/all`).then(t=>{this.productsAll=t.data.products,console.log(this.productsAll)}).catch(t=>{console.log(t),alert(t.response)})},setThumbsSwiper(t){this.thumbsSwiper=t},...S(k,["addToCart"]),...S(T,["tempProductsa11","getProductAll","addtoFollow","getid"]),render(t){this.$router.push(`/product/${t}`)}},computed:{...x(T,["followList"]),...x(k,["loadingItem"]),related(){return this.productsAll.filter(t=>this.products.id!==t.id&&t.category===this.products.category)}},watch:{$route(t,r){this.$router.go(0)}},mounted(){this.getProductSingle(),this.getProductAll()}},n=t=>(D("data-v-cfc31a00"),t=t(),H(),t),O={class:"container py-8"},q={class:"row g-0 g-md-3 g-lg-4 d-flex justify-content-center mb-4"},z={class:"col-md-9"},K={class:"row g-0 g-md-3 g-lg-4 mb-4"},Q=n(()=>e("h2",{class:"text-center text-primary fw-bold mb-7"},"鮮品味茶品",-1)),W={class:"col-md-7"},X=["src"],Z=["src"],G={class:"col-md-5"},J={class:"d-flex flex-column justify-content-center h-100"},Y={class:"d-flex align-items-center"},$={class:"h3 text-nowrap me-2 fw-bold"},ee={key:0,class:"material-icons fs-1"},te={key:1,class:"material-icons fs-1 text-primary",style:{cursor:"pointer"}},se={class:"badge rounded-pill bg-primary"},oe=["innerHTML"],ie={class:"d-flex flex-column h-100"},re={class:"align-self-end"},le={class:"text-decoration-line-through fs-4"},ce=n(()=>e("span",null,"原價",-1)),ne={class:"fs-2 mb-2 fw-bold text-danger"},ae=n(()=>e("span",{class:""},"特價",-1)),de={class:"d-flex justify-content-end"},pe=["value"],ue={key:0,class:"fas fa-spinner fa-pulse"},me={class:"row g-0 g-md-3 g-lg-4 d-flex justify-content-center mb-4"},_e={class:"col-md-9"},he=n(()=>e("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," 商品介紹 ")])],-1)),fe={class:"tab-content",id:"myTabContent"},ge=["innerHTML"],be=n(()=>e("div",{class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"}," ... ",-1)),we=n(()=>e("div",{class:"tab-pane fade",id:"contact",role:"tabpanel","aria-labelledby":"contact-tab"}," ... ",-1)),ve={class:"row g-0 g-md-3 g-lg-4 d-flex justify-content-center"},ye=n(()=>e("h2",{class:"text-center text-primary mb-7 fw-bold"},"相關商品",-1)),Pe={class:"col-md-9"},Se={class:"card d-flex h-100 shadow-sm"},xe=["onClick"],ke={class:"card-body p-0"},Te={class:"card-title fs-4 lh-29 fw-bold"},Ve={class:"fs-5 lh-30 fw-bold mb-5"};function Ae(t,r,d,v,s,m){const _=y("swiper-slide"),h=y("swiper");return i(),c("section",O,[e("div",q,[e("div",z,[e("div",K,[Q,e("div",W,[g(h,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},spaceBetween:10,navigation:!0,thumbs:{swiper:s.thumbsSwiper},modules:s.modules,class:"mySwiper2"},{default:a(()=>[(i(!0),c(p,null,u(s.product.imagesUrl,(o,f)=>(i(),w(_,{key:f},{default:a(()=>[e("img",{src:o},null,8,X)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"]),g(h,{onSwiper:m.setThumbsSwiper,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:s.modules,class:"mySwiper align-items-center"},{default:a(()=>[(i(!0),c(p,null,u(s.product.imagesUrl,(o,f)=>(i(),w(_,{key:f},{default:a(()=>[e("img",{src:o},null,8,Z)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])]),e("div",G,[e("div",J,[e("div",null,[e("div",Y,[e("h3",$,l(s.product.title),1),e("a",{href:"#",class:"d-flex mb-md-0 align-items-center text-decoration-none",onClick:r[0]||(r[0]=P(()=>t.addtoFollow(s.product.id),["prevent"])),style:{cursor:"pointer"}},[t.followList.id.indexOf(s.product.id)===-1?(i(),c("span",ee," favorite_border ")):(i(),c("span",te," favorite "))])]),e("span",se,l(s.product.category),1),e("p",{innerHTML:s.product.description},null,8,oe),e("div",ie,[e("div",re,[e("div",le,[ce,e("span",null,l(s.product.origin_price),1)]),e("div",ne,[ae,e("span",null,l(s.product.price),1)])]),e("div",de,[M(e("select",{class:"form-select",name:"qty","onUpdate:modelValue":r[1]||(r[1]=o=>s.itemNum=o)},[(i(),c(p,null,u(5,o=>e("option",{value:o,key:o+"0"},l(o),9,pe)),64))],512),[[E,s.itemNum,void 0,{number:!0}]]),e("button",{type:"button",class:"btn btn-primary me-3 me-md-0 text-nowrap",onClick:r[2]||(r[2]=()=>t.addToCart(s.product.id,s.itemNum))},[b(" 加入購物車 "),t.loadingItem===s.product.id+"1"?(i(),c("i",ue)):U("",!0)])])])])])])])])]),e("div",me,[e("div",_e,[he,e("div",fe,[e("div",{class:"tab-pane fade show active p-5",id:"home",role:"tabpanel","aria-labelledby":"home-tab",innerHTML:s.product.content},null,8,ge),be,we])])]),e("div",ve,[b(l(s.tempProducts)+" ",1),ye,e("div",Pe,[g(h,{class:"Swiper3",navigation:!0,slidesPerView:3,spaceBetween:24,pagination:{clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:24},768:{slidesPerView:3,spaceBetween:24},992:{slidesPerView:3,spaceBetween:24}},modules:s.modules},{default:a(()=>[(i(!0),c(p,null,u(m.related,o=>(i(),w(_,{key:o.id},{default:a(()=>[b(l(o.id)+" ",1),e("div",Se,[e("div",{class:"bg-cover",style:j([{"min-height":"200px",cursor:"pointer","background-position":"center"},{backgroundImage:`url(${o.imageUrl})`}]),onClick:P(()=>m.render(o.id),["prevent"])},null,12,xe),e("div",ke,[e("h5",Te,l(o.title),1),e("div",Ve,[e("span",null,l(t.$filters.currency(o.price)),1)])])])]),_:2},1024))),128))]),_:1},8,["modules"])])])])}const Ze=F(R,[["render",Ae],["__scopeId","data-v-cfc31a00"]]);export{Ze as default};
